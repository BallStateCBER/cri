var adminReport={notes:[],minimizedIntAlignment:{officials:!1,organizations:!1},init:function(){this.setSurveyTypes(),this.setupSorting();var t=$("table.report");t.find("button.survey-toggler").click(function(t){t.preventDefault();var n=$(this).closest("table");n.toggleClass("expanded");var a=n.data("survey-type");adminReport.minimizedIntAlignment[a]||adminReport.toggleIntAlignment(n)}),t.addClass("int-alignment-expanded"),t.find(".col-group-headers th").filter(":nth-child(5)").attr("data-col-group","int-alignment"),t.find(".col-group-headers th[data-col-group=int-alignment] button").click(function(t){t.preventDefault();var n=$(this).closest("table");adminReport.toggleIntAlignment(n)}),$("#notes-modal").on("show.bs.modal",function(t){var n=$(t.relatedTarget),a=n.data("community-id"),e=n.data("community-name"),i=null,r=null;n.hasClass("notes")?(i=e+" - Notes",r=adminReport.notes[a]):n.hasClass("recent-activity")&&(i=e+" - Recent Activity",r=n.siblings("div.recent-activity").html()),$(this).find(".modal-title").html(i),$(this).find(".modal-body").html(r)})},toggleIntAlignment:function(t){var n=t.hasClass("int-alignment-expanded");if(n){var a=t.data("survey-type");this.minimizedIntAlignment[a]=!0}t.toggleClass("int-alignment-expanded");var e=t.find(".col-group-headers th[data-col-group=int-alignment]"),i=n?1:6;e.prop("colspan",i);var r=e.find("button"),l=n?"Details":"Internal Alignment";r.html(l);var s=t.find(".general-header .int-overall-alignment span");l=n?"Internal Alignment":"Overall",s.html(l)},setSurveyTypes:function(){var t=$("table.report");this.markOfficialsSurvey($(t[0])),this.markOrgsSurvey($(t[1]))},markOfficialsSurvey:function(t){t.attr("data-survey-type","officials")},markOrgsSurvey:function(t){t.attr("data-survey-type","organizations")},setupSorting:function(){var t,n=$("table.report[data-survey-type=officials]");(t=n.find(".general-header th")).filter(":nth-child(1)").attr("data-sort","string"),t.filter(":nth-child(n+2):nth-child(-n+14)").attr("data-sort","float"),t.filter(":nth-child(n+15):nth-child(-n+17)").attr("data-sort","string"),n.stupidtable();var a=$("table.report[data-survey-type=organizations]");(t=a.find(".general-header th")).filter(":nth-child(1)").attr("data-sort","string"),t.filter(":nth-child(n+2):nth-child(-n+12)").attr("data-sort","float"),t.filter(":nth-child(n+13):nth-child(-n+15)").attr("data-sort","string"),a.stupidtable()}};