var sidebar={init:function(){var t=$("#community_select"),e=t.find("select").first();e.val(""),e.change(function(){t.submit()}),t.find('input[type="submit"]').hide(),t.submit(function(t){t.preventDefault();var n=e.val();n&&(window.location.href="/community/"+n)})}},flashMessage={init:function(){var t=$("#flash_messages_bootstrap");t.is(":visible")||t.slideDown(500)},insert:function(t,e){var n="alert-info";"error"==e?n="alert-danger":"success"==e&&(n="alert-success");var a=$('<div class="alert alert-dismissible '+n+'" role="alert"></div>');a.append('<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'),a.append(t);var i=$("#flash_messages_bootstrap");i.is(":visible")?(a.hide(),i.append(a),a.slideDown()):(i.append(a),showBootstrapFlashMessages())}},formProtector={protect:function(t){var e=$("#"+t);e.find("select, input, textarea").change(function(e){formProtector.setChanged(t)}),e.submit(function(e){return formProtector.setSubmitting(t),!0});var n=window.attachEvent||window.addEventListener,a=window.attachEvent?"onbeforeunload":"beforeunload";n(a,function(e){var n=$("#"+t);1===n.data("changed")&&1!==n.data("submitting")&&formProtector.warn(e)})},warn:function(t){var e="Are you sure you want to leave this page? The information that you have entered will be lost.";return(t||window.event).returnValue=e,e},setChanged:function(t){$("#"+t).data("changed",1)},setSaved:function(t){$("#"+t).data("changed",0)},setSubmitting:function(t){$("#"+t).data("submitting",1)}};